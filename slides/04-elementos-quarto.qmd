---
title: "Dominando o Quarto (RMarkdown Moderno)"
subtitle: 'Relat√≥rios reprodut√≠veis com R - Curso de Ver√£o IME-USP 2026' 
author: "Ministrante: Lemuel de Lemos Rom√£o"
format: 
  revealjs:
    width: 1600
    height: 900  
    toc: false
    toc_float: true
    toc-depth: 2
    toc-location: body
    toc-title: "Conte√∫dos"
    logo: "https://www.ime.usp.br/verao/assets/images/logo_verao.png" 
    footer: "[Relat√≥rios reprodut√≠veis com R (2026) - Programa de Ver√£o IME-USP](https://lemuelemos.github.io/2026-curso-de-verao-ime-usp-relatorios/index.html)."
    theme: ["custom.scss"]
    slide-number: c/t
    show-slide-number: all
    hash-type: number
    preview-links: false    
---

# Introdu√ß√£o ao Quarto

## O que √© Quarto?

- **Framework moderno** para documentos t√©cnicos
- Sucessor espiritual do RMarkdown
- **Linguagem √∫nica** para m√∫ltiplas sa√≠das
- **Aberto e extens√≠vel** (R, Python, Julia, etc.)

## Vantagens do Quarto

- **Execu√ß√£o de c√≥digo embutida**
- **Exporta√ß√£o flex√≠vel** (HTML, PDF, Word, PPT)
- **Colabora√ß√£o facilitada**
- **Reprodutibilidade garantida**

# Estrutura B√°sica

## Cabe√ßalho YAML

```yaml
---
title: "Meu Documento"
author: "Seu Nome"
format:
  html:
    toc: true
    theme: cosmo
---
```

## Se√ß√µes e Subse√ß√µes

```markdown
# T√≠tulo N√≠vel 1

## Se√ß√£o N√≠vel 2

### Subse√ß√£o N√≠vel 3
```

# Formata√ß√£o de Texto

## √änfase e Destaque

```markdown
*Texto em it√°lico*
**Texto em negrito**
***Negrito e it√°lico***
~~Texto tachado~~
```

## Listas

### Lista N√£o Ordenada
```markdown
- Item 1
- Item 2
  - Subitem 2.1
  - Subitem 2.2
```

### Lista Ordenada
```markdown
1. Primeiro passo
2. Segundo passo
   1. Detalhe 2.1
   2. Detalhe 2.2
```

# Chunks de C√≥digo

## Sintaxe B√°sica


```{r}
#| echo: true
#| eval: true

# C√≥digo R aqui
x <- 1:10
mean(x)
```


## Op√ß√µes Principais

```{r}
#| label: preparacao-dados
#| echo: false
#| warning: false
#| message: false
#| cache: true

# dados <- read.csv("arquivo.csv")
```


## Exemplo Pr√°tico

```{r}
#| echo: true
#| eval: true

# Carregar dados de exemplo
data("mtcars")

# Calcular m√©dia de mpg
media_mpg <- mean(mtcars$mpg)
print(paste("M√©dia de mpg:", round(media_mpg, 2)))
```

# C√≥digo Inline

## Integra√ß√£o com Texto


A m√©dia de milhas por gal√£o √© `r round(mean(mtcars$mpg), 2)`.

Hoje √© `r format(Sys.Date(), "%d/%m/%Y")`.

O n√∫mero de observa√ß√µes √© `r nrow(mtcars)`.


## Resultado Real

A m√©dia de milhas por gal√£o √© 20.09.

Hoje √© 2024-01-19.

O n√∫mero de observa√ß√µes √© 32.

# Elementos Visuais

## Tabelas Simples

```markdown
| Vari√°vel | Tipo     | Descri√ß√£o          |
|----------|----------|--------------------|
| mpg      | num√©rica | Milhas por gal√£o   |
| cyl      | num√©rica | N√∫mero de cilindros|
| hp       | num√©rica | Cavalos de pot√™ncia|
```

## Tabelas com kable

```{r}
#| echo: true
library(knitr)
kable(head(mtcars[, 1:4]), 
      caption = "Primeiras linhas do conjunto mtcars")
```

# Gr√°ficos e Visualiza√ß√µes

## Gr√°ficos com Base R

```{r}
#| echo: true
#| fig-cap: "Gr√°fico de Barras - Distribui√ß√£o de Cilindros"

# Gr√°fico simples
barplot(table(mtcars$cyl),
        main = "Distribui√ß√£o de Cilindros",
        xlab = "Cilindros",
        ylab = "Frequ√™ncia",
        col = c("#1f77b4", "#ff7f0e", "#2ca02c"))
```

## Gr√°ficos com ggplot2

```{r}
#| echo: true
#| fig-cap: "Rela√ß√£o entre MPG e HP por Cilindros"

library(ggplot2)

ggplot(mtcars, aes(x = mpg, y = hp, color = factor(cyl))) +
  geom_point(size = 3, alpha = 0.7) +
  geom_smooth(method = "lm", se = FALSE) +
  labs(title = "Rela√ß√£o entre Consumo e Pot√™ncia",
       x = "Milhas por Gal√£o (MPG)",
       y = "Cavalos de Pot√™ncia (HP)",
       color = "Cilindros") +
  theme_minimal() +
  scale_color_brewer(palette = "Set1")
```

# Imagens e M√≠dia

## Inserindo Imagens

```markdown
![Logo do R](https://www.r-project.org/logo/Rlogo.png){width=30%}

![Gr√°fico exportado](images/meu-grafico.png){fig-alt="Descri√ß√£o da imagem"}
```

## Imagens com Legendas


![Diagrama do Fluxo de Trabalho](images/something-new.jpg){fig-align="center" width="80%"}

*Figura 1: Fluxo de trabalho com Quarto*


# Links e Refer√™ncias

## Links Externos

```markdown
- [Documenta√ß√£o oficial do Quarto](https://quarto.org/)
- [Reposit√≥rio no GitHub](https://github.com/quarto-dev/quarto-cli)
- [Exemplos e Galeria](https://quarto.org/docs/gallery/)
```

## Refer√™ncias Cruzadas

Como mostrado na Figura @fig-grafico-ggplot...

Consulte a Tabela @tbl-dados-resumo...

Veja a equa√ß√£o @eq-formula-bhaskara...


# Equa√ß√µes Matem√°ticas

## Equa√ß√µes Inline


A f√≥rmula da velocidade √© $v = \frac{\Delta s}{\Delta t}$.


## Equa√ß√µes em Destaque

E = mc^2
$$
E = mc^2
$$

f(x) = \frac{1}{\sigma\sqrt{2\pi}} e^{-\frac{1}{2}\left(\frac{x-\mu}{\sigma}\right)^2}

$$
f(x) = \frac{1}{\sigma\sqrt{2\pi}} e^{-\frac{1}{2}\left(\frac{x-\mu}{\sigma}\right)^2}
$$


# Formatos de Sa√≠da

## Configura√ß√£o para HTML

```yaml
format:
  html:
    toc: true
    toc-depth: 3
    toc-title: "Sum√°rio"
    theme: cosmo
    code-fold: true
```

## Configura√ß√£o para PDF

```yaml
format:
  pdf:
    documentclass: article
    toc: true
    number-sections: true
```

## Configura√ß√£o para Apresenta√ß√µes

```yaml
format:
  revealjs:
    slide-number: true
    controls: true
    progress: true
    transition: slide
```

# Recursos Avan√ßados

## Inclus√£o de Mapas

```{r}
#| echo: true
#| eval: true
# Mapas com leaflet
library(leaflet)

leaflet() %>%
  addTiles() %>%
  addMarkers(lng = -46.6333, lat = -23.5505,
             popup = "S√£o Paulo, Brasil")
```

## Widgets Interativos

```{r}
#| echo: true
#| eval: true
# Gr√°ficos interativos com plotly
library(plotly)

plot_ly(mtcars, x = ~mpg, y = ~hp,
        color = ~factor(cyl),
        type = 'scatter',
        mode = 'markers')
```

# Boas Pr√°ticas

## Organiza√ß√£o do Projeto

```
meu-projeto/
‚îú‚îÄ‚îÄ dados/
‚îÇ   ‚îú‚îÄ‚îÄ brutos/
‚îÇ   ‚îî‚îÄ‚îÄ processados/
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ 01-limpeza.R
‚îÇ   ‚îú‚îÄ‚îÄ 02-analise.R
‚îÇ   ‚îî‚îÄ‚îÄ funcoes.R
‚îú‚îÄ‚îÄ relatorio.qmd
‚îú‚îÄ‚îÄ README.md
‚îî‚îÄ‚îÄ quarto.yml
```

# Exemplo Completo

## Documento de An√°lise Completo

````markdown
---
title: "An√°lise Explorat√≥ria com Quarto"
author: "Analista de Dados"
date: "`r format(Sys.Date(), '%d de %B de %Y')`"
format:
  html:
    toc: true
    theme: flatly
    code-fold: true
---

# Introdu√ß√£o

Esta √© uma an√°lise explorat√≥ria usando **Quarto**.

## Carregamento dos Dados

```{r}
#| label: carregar-dados
#| message: false

library(tidyverse)
library(knitr)

data("iris")
```

## Estat√≠sticas Descritivas

A m√©dia do comprimento da s√©pala √© `r mean(iris$Sepal.Length)` cm.

```{r}
#| label: estatisticas
#| tbl-cap: "Estat√≠sticas Descritivas"

summary(iris) %>%
  kable()
```

## Conclus√£o

Principais descobertas...

[Veja o c√≥digo completo no GitHub](https://github.com/usuario/projeto)
````

# Recursos Adicionais

## Links Importantes

- üìö [Documenta√ß√£o Oficial](https://quarto.org/docs/)
- üé® [Galeria de Exemplos](https://quarto.org/docs/gallery/)
- üéì [Tutoriais Interativos](https://quarto.org/docs/guide/)
- üí¨ [Comunidade no GitHub](https://github.com/quarto-dev/quarto-cli/discussions)

## Extens√µes √öteis

- **Quarto VS Code Extension**: Editor dedicado
- **Quarto JupyterLab**: Integra√ß√£o com Jupyter
- **Quarto Shiny**: Aplica√ß√µes interativas

# Dicas Finais

## Fluxo de Trabalho Eficiente

1. **Planeje** a estrutura do documento
2. **Escreva** o texto narrativo primeiro
3. **Adicione** c√≥digo e visualiza√ß√µes
4. **Revise** e formate
5. **Exporte** para m√∫ltiplos formatos

## Solu√ß√£o de Problemas Comuns

- Use `quarto check` para verificar instala√ß√£o
- `quarto preview` para visualizar em tempo real
- `quarto render` para gerar sa√≠da final
- Consulte logs de erro para depura√ß√£o

# Perguntas e Respostas

## Pr√≥ximos Passos

1. **Experimente** com pequenos projetos
2. **Explore** templates prontos
3. **Customize** seu workflow
4. **Compartilhe** seu conhecimento

## Pr√≥ximos Passos

## Estilos

**Para criar os arquivos de suporte:**

1. Crie um arquivo chamado `styles.css` para estilos personalizados:

```css
/* styles.css */
.reveal .slide-logo {
  height: 100px !important;
  width: 100px!important;
  max-width: unset !important;
  max-height: unset !important;
}

.reveal .slide-number {
  font-size: 18px;
}

.reveal h1 {
  color: #2c3e50;
}

.reveal h2 {
  color: #3498db;
}
```

2. Para executar a apresenta√ß√£o:
```bash
quarto render aula.qmd --to revealjs
```

3. Ou use o modo preview:
```bash
quarto preview aula.qmd
```

